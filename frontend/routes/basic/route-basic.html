<link rel="import" href="../../../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../../../bower_components/aqa-styles/aqa-styles.html">
<link rel="import" href="../../../../bower_components/aqa-panel/aqa-panel.html">
<link rel="import" href="../../../../bower_components/aqa-button/aqa-button.html">
<link rel="import" href="../components/address-form.html">
<link rel="import" href="../basic/basic-form.html">
<link rel="import" href="../../../redux-mixin.html">
<dom-module id="route-basic" topic="ข้อมูลพื้นฐาน" parent="route-home">
    <template>
        <style include="aqa-styles">
        </style>
        <div class="page-container">
            <aqa-panel>
                <app-toolbar slot="header">
                    <div main-title>ข้อมูลพื้นฐาน</div>
                </app-toolbar>
                <div slot="content">
                    <basic-form id="form"></basic-form>
                </div>
            </aqa-panel>
            <div class="row-space"></div>
            <div class="row center-xs">
                <div class="col-xs-12">
                    <aqa-button type="success" on-click="getForm">บันทึก</aqa-button>&nbsp;&nbsp;&nbsp;&nbsp;
                    <aqa-button type="danger">ยกเลิก</aqa-button>
                </div>
            </div>
        </div>
    </template>

    <script>

        class RouteฺBasic extends ReduxMixin(Polymer.Element) {

            static get is() {
                return 'route-basic';
            }

            static get properties() {
                return {

                };
            }
            ready(){
                super.ready()
                var id = location.href.split("=")[1]
                Nylon.dispatch("selectAcademy",id)
            }
            // nylonPagesActive(val){
            //     // console.log(location.href)
            //     var id = val.path.split("=")[1]
            //     console.log(id)
            //     Nylon.dispatch("selectAcademy",id)
            //     // console.log(id)
            // }
            getForm(){
                var data = this.$.form.submit()
                console.log(data)
                Nylon.dispatch("insertAcademy",data)
            }
        }

        window.customElements.define(RouteฺBasic.is, RouteฺBasic);
    </script>
</dom-module>